<div class="main-content">
	<div class="section-content section-content-p30">
		<div class="container-fluid">
			<ng-container *ngIf="cartItems.size > 0; else empty">
				<table class="table table-bordered">
					<thead>
						<tr>
							<th width="20%">Product Image</th>
							<th width="50%">Product Detail</th>
							<th width="30%"></th>
						</tr>
					</thead>
					<tbody>
						<tr *ngFor="let cartItem of cartItemsArray">
							<td>
								<img src="{{ cartItem.imageUrl }}" alt="cart item img" class="img-responsive" width="150px" />
							</td>
							<td>
								<p>{{ cartItem.name }}</p>
								<p>{{ cartItem.unitPrice | currency:'USD' }}</p>
							</td>
							<td>
								<div class="items">
									<label>Quantity:</label>

									<div class="row no-gutters">
										<div class="col">
											<button (click)="incrementQuantity(cartItem)" class="btn btn-primary btn-sm">
												<i class="fas fa-plus"></i>
											</button>
										</div>

										<div class="col ml-4 mr-2">
											{{ cartItem.quantity }}
										</div>

										<div class="col">
											<button (click)="decrementQuantity(cartItem)" class="btn btn-primary btn-sm">
												<i class="fas fa-minus"></i>
											</button>
										</div>

										<div class="col-8"></div>
									</div>
								</div>

								<button (click)="remove(cartItem)" class="btn btn-primary btn-sm mt-2">Remove</button>

								<p class="mt-2">Subtotal: {{ cartItem.quantity * cartItem.unitPrice | currency:'USD' }}</p>
							</td>
						</tr>

						<tr>
							<td colspan="2"></td>
							<td style="font-weight: bold">
								<p>Total Quantity: {{ totalQuantity }}</p>
								<p>Shipping: FREE</p>
								<p>Grand Total: {{ totalPrice.toFixed(2) | currency:'USD' }}</p>
								<a routerLink="/checkout" class="btn btn-primary">Checkout</a>
							</td>
						</tr>
					</tbody>
				</table>
			</ng-container>
			<ng-template #empty>
				<div class="alert alert-warning col-md-12" role="alert">
					<p style="font-weight: bold; margin: 0;">Your shopping cart is empty.</p>
				</div>
			</ng-template>
		</div>
	</div>
</div>
