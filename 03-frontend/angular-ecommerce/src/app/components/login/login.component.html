<div class="main-content page-m">
	<div class="section-content section-content-p30">
		<div class="container-fluid">
      <!-- Show an error message if login fails -->
      <div *ngIf="loginError" class="alert alert-danger">
        {{ loginError }}
      </div>

			<form [formGroup]="loginFormGroup" (ngSubmit)="onSubmit()">
				<!-- User -->
				<div formGroupName="user" class="form-area">
					<h3>Login</h3>

					<div class="row">
						<div class="col-md-2"><label>Username</label></div>
						<div class="col-md-9">
							<div class="input-space">
								<input formControlName="username" type="text" autocomplete="new-username" />

								<div *ngIf="username?.invalid && (username?.dirty || username?.touched)" class="alert alert-danger mt-1">
									<div *ngIf="usernameErrors?.['required'] || usernameErrors?.['notOnlyWhitespace']">
										Username is required
									</div>
									<div *ngIf="usernameErrors?.['minlength']">
										Username must be at least 2 characters long
									</div>
								</div>
							</div>
						</div>
					</div>

					<div class="row">
						<div class="col-md-2"><label>Password</label></div>
						<div class="col-md-9">
							<div class="input-space">
								<input formControlName="password" type="password" autocomplete="new-password" />

								<div *ngIf="password?.invalid && (password?.dirty || password?.touched)" class="alert alert-danger mt-1">
									<div *ngIf="passwordErrors?.['required'] || passwordErrors?.['notOnlyWhitespace']">
										Password is required
									</div>
									<div *ngIf="passwordErrors?.['minlength']">
										Password must be at least 8 characters long
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>

				<!-- submit button -->
				<div class="text-center">
				<div style="display: flex; flex-direction: column; width: 100%; justify-content: center; align-items: center; gap: 15px;">
					<button type="submit" class="btn btn-info">Login</button>
					<a routerLink="/register">Don't have an account?</a>
				</div>
				</div>
			</form>
		</div>
	</div>
</div>
